# 🎯 新手引导功能说明

## ✅ 功能已完成！

现在用户首次访问网站时，会自动看到精美的3步引导流程。

---

## 🎨 引导效果

### 步骤1：Agentic AI 介绍
```
🔆 高亮区域: 聊天窗口
📝 提示内容: "Agentic AI具有自主编排工作流的能力，可以帮您完成复杂任务"
🎯 位置: 右侧提示框
```

### 步骤2：数字员工介绍
```
🔆 高亮区域: 左侧数字员工卡片
📝 提示内容: "向吩咐真人一样和数字员工对话，让她帮您使用Agentic AI"
🎯 位置: 左侧提示框
```

### 步骤3：智能总结开关
```
🔆 高亮区域: 输入框上方的数字员工开关
📝 提示内容: "开启时数字员工会帮您简短的，通俗易懂的总结Agentic AI的回答"
🎯 位置: 顶部提示框
```

---

## 🎭 视觉效果

### 遮罩层
- 背景变暗：`bg-black/60`
- 模糊效果：`backdrop-blur-sm`
- 突出高亮区域

### 高亮区域
- 蓝色边框：4px 边框
- 脉动动画：2秒循环
- 镂空效果：只有高亮区域清晰可见

### 提示卡片
- 白色卡片（暗色模式：深灰色）
- 蓝色边框
- 渐变进度条
- 滑入动画

---

## 🔄 交互流程

1. **首次访问**
   - 延迟1秒后显示引导（等待页面加载）
   - 从步骤1开始

2. **切换步骤**
   - 点击"下一步"：进入下一个步骤
   - 点击"跳过引导"：直接结束
   - 点击遮罩层：直接结束

3. **完成引导**
   - 最后一步显示"开始使用"按钮
   - 记录到 localStorage
   - 下次访问不再显示

4. **重新查看**
   - 右下角"重置引导"按钮
   - 刷新页面重新显示

---

## 📋 技术实现

### 组件文件

**OnboardingGuide.tsx** - 主引导组件
```typescript
- 3个步骤配置
- 自动定位目标元素
- 响应式位置计算
- 遮罩层 + 高亮效果
- 进度条显示
```

**ResetOnboarding.tsx** - 重置按钮
```typescript
- 右下角悬浮按钮
- 清除 localStorage
- 刷新页面重新显示引导
```

### 集成位置

**app/chat/page.tsx**
```typescript
- 导入 OnboardingGuide
- 导入 ResetOnboarding
- 添加组件到页面
- 添加 ID 标识符
```

### 目标元素ID

```typescript
'chat-container'   // 整个聊天容器
'avatar-chat'      // 数字员工卡片（在LayoutShell中）
'avatar-toggle'    // 数字员工开关按钮
```

---

## 🧪 测试方法

### 方法1：首次访问测试

1. 打开隐身窗口（或清除localStorage）
2. 访问 `http://localhost:3000/chat`
3. 应该看到引导自动显示

### 方法2：使用重置按钮

1. 访问 `http://localhost:3000/chat`
2. 点击右下角"重置引导"按钮
3. 页面刷新后重新显示引导

### 方法3：手动清除

```javascript
// 在浏览器控制台执行
localStorage.removeItem('hasSeenOnboarding');
location.reload();
```

---

## 🎨 自定义配置

### 修改引导步骤

编辑 `OnboardingGuide.tsx` 中的 `steps` 数组：

```typescript
const steps: OnboardingStep[] = [
  {
    id: 'step-1',
    title: '您的标题',
    description: '您的描述',
    targetId: '目标元素ID',
    position: 'right' // top, bottom, left, right
  },
  // 添加更多步骤...
];
```

### 修改延迟时间

```typescript
// 修改首次显示延迟（默认1秒）
setTimeout(() => {
  setIsVisible(true);
}, 1000); // 改成你想要的毫秒数
```

### 修改动画时长

```css
/* 在 OnboardingGuide.tsx 的 <style jsx> 中修改 */
@keyframes pulse-slow {
  /* 修改这里控制脉动速度 */
}
```

---

## 📱 响应式设计

引导会自动：
- ✅ 根据目标元素位置调整提示框位置
- ✅ 自动滚动到目标元素
- ✅ 适应不同屏幕尺寸
- ✅ 支持窗口大小变化

---

## 🎯 用户体验

### 首次访问流程

```
用户打开网站
  ↓
延迟1秒（页面加载完成）
  ↓
显示步骤1：Agentic AI介绍
  ↓
用户点击"下一步"
  ↓
显示步骤2：数字员工介绍
  ↓
用户点击"下一步"
  ↓
显示步骤3：智能总结开关
  ↓
用户点击"开始使用"
  ↓
引导结束，正常使用
```

### 跳过引导

用户可以随时：
- 点击右上角 ❌ 关闭
- 点击"跳过引导"按钮
- 点击遮罩层背景

---

## 🔧 调试技巧

### 查看引导状态

```javascript
// 浏览器控制台
console.log(localStorage.getItem('hasSeenOnboarding'));
// 返回 'true' 表示已看过引导
// 返回 null 表示未看过
```

### 强制显示引导

```javascript
localStorage.removeItem('hasSeenOnboarding');
location.reload();
```

### 检查元素定位

```javascript
// 确认目标元素存在
document.getElementById('chat-container');
document.getElementById('avatar-chat');
document.getElementById('avatar-toggle');
```

---

## 🎨 样式特性

### 遮罩层
- 半透明黑色背景
- 模糊效果
- 可点击关闭

### 高亮框
- 4px 蓝色边框
- 8px 内边距
- 脉动动画
- 镂空阴影效果

### 提示卡片
- 圆角卡片设计
- 渐变进度条
- 滑入动画
- 阴影效果

---

## 📊 性能优化

- ✅ 只在首次访问时加载
- ✅ localStorage 缓存状态
- ✅ 惰性渲染（不显示时不渲染）
- ✅ 事件监听器自动清理

---

## 🚀 部署说明

### 本地测试

```bash
# 启动开发服务器
pnpm dev

# 打开浏览器（隐身模式）
open http://localhost:3000/chat
```

### 生产环境

引导功能会自动部署到：
- ✅ Vercel
- ✅ Railway（不影响）

代码已推送到GitHub，Vercel会自动重新部署。

---

## 💡 使用建议

### 新手友好

引导简洁明了，3步快速了解核心功能：
1. Agentic AI的能力
2. 数字员工的作用
3. 智能总结功能

### 老用户友好

- 只显示一次，不打扰
- 可以随时跳过
- 提供重置按钮（右下角，半透明）

---

## 🎊 完成！

新手引导功能已集成完成！

**特性**：
- ✨ 3步精美引导
- 🎯 智能高亮定位
- 🎨 专业视觉效果
- 📱 完全响应式
- 🔄 可重复查看

**测试**：
1. 清除浏览器缓存或使用隐身模式
2. 访问 http://localhost:3000/chat
3. 体验引导流程

---

**创建时间**: 2025-10-30  
**状态**: ✅ 已集成并推送到GitHub

🎉 享受新手引导功能！

