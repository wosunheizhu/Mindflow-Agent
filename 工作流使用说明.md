# 🔄 工作流编排使用说明

## 🎯 如何使用工作流

访问：http://localhost:3000/workflows

---

## 📝 详细操作指令

### 1. 添加节点 ✅

**操作步骤**：
1. 在"添加节点"区域
2. 点击任意节点类型按钮：
   - 🔍 网页搜索（蓝色）
   - 💻 代码执行（绿色）
   - 📄 文件操作（紫色）
   - 📊 数据可视化（橙色）
   - 🌐 网页访问（青色）
3. 节点会自动添加到画布上
4. 看到 Toast 提示："已添加节点: xxx"

**示例**：
- 点击"网页搜索" → 添加搜索节点
- 点击"代码执行" → 添加代码节点

---

### 2. 移动节点 ✅

**操作步骤**：
1. 鼠标移到节点上
2. 按住鼠标左键
3. 拖拽到新位置
4. 释放鼠标

**提示**：
- 可以随意拖动
- 连接线会自动跟随
- 实时更新位置

---

### 3. 创建连接 ✅

**操作步骤**：
1. 鼠标移到节点边缘
2. 看到连接点（小圆点）
3. 从一个节点的连接点拖拽到另一个节点
4. 释放创建连接
5. 看到 Toast："连接已创建"

**示例**：
- 从"搜索"节点拖到"代码执行"节点
- 创建动画连接线

---

### 4. 选中节点 ✅

**操作步骤**：
1. 点击任意节点
2. 节点会高亮显示
3. 顶部显示节点信息

**用途**：
- 准备删除节点
- 查看节点属性

---

### 5. 删除节点 ✅

**操作步骤**：
1. 点击选中要删除的节点
2. 点击右上角"删除节点"按钮
3. 节点和相关连接都会被删除
4. 看到 Toast："节点已删除"

**注意**：
- 必须先选中节点
- 按钮才会启用

---

### 6. 命名工作流 ✅

**操作步骤**：
1. 在顶部找到"工作流名称"输入框
2. 点击输入框
3. 输入新名称（如"数据分析流程"）
4. 名称会自动保存

---

### 7. 保存工作流 ✅

**操作步骤**：
1. 创建好工作流
2. 点击"保存"按钮
3. 工作流保存到浏览器本地存储
4. 看到 Toast："工作流已保存到本地"

**保存内容**：
- 工作流名称
- 所有节点
- 所有连接
- 创建时间

---

### 8. 加载工作流 ✅

**操作步骤**：
1. 点击"加载"按钮
2. 从本地存储读取
3. 恢复之前保存的工作流
4. 看到 Toast："工作流已加载"

**注意**：
- 如果没有保存的工作流，会提示错误

---

### 9. 导出工作流 ✅

**操作步骤**：
1. 点击"导出"按钮
2. 自动下载 JSON 文件
3. 文件名：`工作流名称.json`
4. 看到 Toast："工作流已导出"

**用途**：
- 备份工作流
- 分享给他人
- 版本管理

---

### 10. 运行工作流 ✅

**操作步骤**：
1. 确保工作流有节点
2. 点击"运行"按钮
3. 看到执行提示
4. 2秒后显示完成

**当前**：演示模式
**未来**：可连接真实后端执行

---

## 🎨 界面元素说明

### 顶部区域
```
[工作流名称输入框]
3 个节点 · 2 个连接

[加载] [保存] [导出] [运行]
```

### 节点工具栏
```
添加节点                    [删除节点]

[🔍 搜索] [💻 代码] [📄 文件] [📊 图表] [🌐 网页]
```

### 画布区域
```
┌──────────────────────────┐
│ [节点] → [节点] → [节点] │
│                          │
│ [小地图] [控制器]        │
└──────────────────────────┘
```

---

## 🧪 完整测试流程

### 创建一个简单工作流

**步骤**：
1. 修改名称为："AI 研究流程"
2. 点击"网页搜索"（添加节点1）
3. 点击"代码执行"（添加节点2）
4. 点击"文件操作"（添加节点3）
5. 从节点1拖拽到节点2（创建连接）
6. 从节点2拖拽到节点3（创建连接）
7. 拖动节点调整布局
8. 点击"保存"
9. 点击"运行"

**预期结果**：
- 3 个节点，2 个连接
- 动画连接线
- 保存成功
- 运行成功（演示）

---

## 💡 使用技巧

### 技巧 1：创建连接
- 鼠标移到节点边缘
- 看到小圆点
- 从圆点拖拽到另一个节点

### 技巧 2：调整布局
- 先添加所有节点
- 再拖动调整位置
- 最后创建连接

### 技巧 3：保存/加载
- 经常保存工作流
- 可以随时恢复
- 导出备份重要流程

---

## ⚠️ 常见问题

### Q: 无法创建连接？
A: 从节点**边缘的小圆点**拖拽，不是从节点中心

### Q: 删除按钮灰色？
A: 需要先**点击选中**一个节点

### Q: 节点重叠？
A: **拖动节点**调整位置

### Q: 加载没反应？
A: 需要先**保存**一次工作流

---

## 🎊 工作流功能完整度

- ✅ 可视化编排：100%
- ✅ 节点管理：100%
- ✅ 连接管理：100%
- ✅ 保存/加载：100%
- ✅ 导出：100%
- ✅ 图标统一：100%
- ⚠️ 真实执行：演示模式（可扩展）

---

**所有功能已就绪！** ✅

**立即测试**：http://localhost:3000/workflows

**第一步**：点击"网页搜索"添加节点！ 🚀




