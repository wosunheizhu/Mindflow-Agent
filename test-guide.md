# 功能测试指南

## 🧪 测试清单

### 1. ✅ 基础界面测试

#### 测试步骤：
1. 打开浏览器访问 http://localhost:3000
2. 检查以下元素是否正常显示：
   - [ ] 左侧边栏显示完整
   - [ ] "AI 助手" 标题显示
   - [ ] "新对话" 按钮可见
   - [ ] 四个功能特性卡片（🔍网页搜索、💻代码执行、🖼️图像生成、📄文件检索）
   - [ ] 中间欢迎页面显示
   - [ ] 欢迎信息和示例问题卡片
   - [ ] 底部输入框和发送按钮

#### 预期结果：
- 界面美观，布局合理
- 所有元素清晰可见
- 无样式错误或重叠

---

### 2. ✅ 基础对话功能测试

#### 测试步骤：
1. 在输入框中输入简单问题："你好，请介绍一下你自己"
2. 点击"发送"按钮或按 Enter
3. 观察响应过程

#### 预期结果：
- [ ] 用户消息立即显示（蓝色气泡，右对齐）
- [ ] 显示加载动画（三个跳动的点）
- [ ] AI 回复逐字显示（流式输出）
- [ ] 回复显示在灰色气泡中（左对齐）
- [ ] 页面自动滚动到最新消息

---

### 3. ✅ 多轮对话测试

#### 测试问题序列：
```
问题 1: "你能做什么？"
问题 2: "详细说说你的代码执行功能"
问题 3: "给我一个例子"
```

#### 预期结果：
- [ ] 对话历史保持完整
- [ ] AI 能够理解上下文
- [ ] 消息顺序正确
- [ ] 界面流畅无卡顿

---

### 4. ✅ 复杂提示测试

#### 测试案例：

**案例 1: 数学计算**
```
请帮我计算：如果我投资 10000 元，年利率 5%，复利计算，10 年后的本息总额是多少？
```

**案例 2: 代码相关**
```
写一个 JavaScript 函数，用于检查一个字符串是否是回文（正读和反读都一样）
```

**案例 3: 创意生成**
```
帮我设计一个待办事项应用的用户界面，需要包含哪些元素？
```

**案例 4: 长文本生成**
```
写一篇 500 字的文章，主题是"人工智能如何改变我们的生活"
```

#### 预期结果：
- [ ] 所有请求都能正确响应
- [ ] 代码片段格式正确
- [ ] 长文本流畅输出
- [ ] 响应内容相关且准确

---

### 5. ✅ 输入框功能测试

#### 测试步骤：
1. 测试 Enter 发送：输入文字按 Enter
2. 测试 Shift+Enter 换行：输入文字按 Shift+Enter
3. 测试空消息：直接点击发送（应被禁用）
4. 测试长文本：输入多行文字
5. 测试特殊字符：输入 emoji、符号等

#### 预期结果：
- [ ] Enter 键正确发送消息
- [ ] Shift+Enter 正确换行
- [ ] 空消息无法发送（按钮禁用）
- [ ] 长文本正常显示
- [ ] 特殊字符正确处理

---

### 6. ✅ 加载状态测试

#### 测试步骤：
1. 发送一个问题
2. 在 AI 回复期间观察界面

#### 预期结果：
- [ ] 发送按钮在加载时禁用
- [ ] 输入框在加载时禁用
- [ ] 显示加载动画
- [ ] 用户无法发送新消息直到当前回复完成

---

### 7. ✅ 新对话功能测试

#### 测试步骤：
1. 进行几轮对话
2. 点击左上角"新对话"按钮
3. 检查界面状态

#### 预期结果：
- [ ] 对话历史被清空
- [ ] 显示欢迎页面
- [ ] 可以开始新的对话
- [ ] 界面重置正常

---

### 8. ✅ 响应式设计测试

#### 测试步骤：
1. 调整浏览器窗口大小
2. 测试不同屏幕尺寸：
   - 桌面端（1920x1080）
   - 平板端（768x1024）
   - 移动端（375x667）

#### 预期结果：
- [ ] 布局自动适应
- [ ] 文字大小合适
- [ ] 所有功能正常工作
- [ ] 无内容溢出或错位

---

### 9. ✅ 错误处理测试

#### 测试步骤：
1. 暂时断开网络连接
2. 发送消息
3. 观察错误提示

#### 预期结果：
- [ ] 显示友好的错误消息
- [ ] 不会导致应用崩溃
- [ ] 可以重试

---

### 10. ✅ 性能测试

#### 测试步骤：
1. 连续发送 10 条消息
2. 观察响应时间和界面流畅度
3. 检查浏览器控制台是否有错误

#### 预期结果：
- [ ] 消息发送流畅
- [ ] 无明显延迟
- [ ] 控制台无错误
- [ ] 内存使用正常

---

## 🔍 快速测试用例

### 简单对话
```
你好
你能做什么？
谢谢
```

### 数学计算
```
1 + 1 = ?
计算 123 × 456
质数是什么？
```

### 代码相关
```
写一个冒泡排序算法
解释什么是递归
JavaScript 和 Python 的区别
```

### 创意测试
```
给我讲个笑话
推荐一本好书
写一首小诗
```

---

## ⚠️ 已知限制

1. **图像生成功能**：需要 OpenAI API 支持 DALL-E，当前主要使用文本对话
2. **代码执行功能**：使用 GPT 模拟，非真实执行环境
3. **文件检索功能**：需要配置向量存储 ID
4. **网页搜索功能**：取决于 API 权限

---

## 📊 测试报告模板

```
测试日期：____________________
测试人员：____________________

通过项数：____ / 10
失败项数：____

详细问题：
1. ________________________________
2. ________________________________
3. ________________________________

总体评价：
□ 优秀  □ 良好  □ 一般  □ 需改进

建议：
_____________________________________
_____________________________________
```

---

## 🚀 自动化测试（可选）

可以创建自动化测试脚本来测试 API 端点：

```bash
# 在项目根目录运行
node test-api.js
```

这将测试聊天 API 的基本功能。

